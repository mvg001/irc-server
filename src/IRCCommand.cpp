/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   IRCCommand.cpp                                     :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: marcoga2 <marcoga2@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2026/01/28 12:32:04 by user1             #+#    #+#             */
/*   Updated: 2026/02/10 15:57:34 by marcoga2         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "IRCCommand.hpp"
#include "utils.hpp"
#include <map>
#include <stdexcept>

static void initMapStringToIRCCommand(std::map<std::string, IRCCommand>& m)
{
    m["001"] = RPL_WELCOME;
    m["002"] = RPL_YOURHOST;
    m["003"] = RPL_CREATED;
    m["004"] = RPL_MYINFO;
    m["005"] = RPL_BOUNCE;
    m["200"] = RPL_TRACELINK;
    m["201"] = RPL_TRACECONNECTING;
    m["202"] = RPL_TRACEHANDSHAKE;
    m["203"] = RPL_TRACEUNKNOWN;
    m["204"] = RPL_TRACEOPERATOR;
    m["205"] = RPL_TRACEUSER;
    m["206"] = RPL_TRACESERVER;
    m["207"] = RPL_TRACESERVICE;
    m["208"] = RPL_TRACENEWTYPE;
    m["209"] = RPL_TRACECLASS;
    m["210"] = RPL_TRACERECONNECT;
    m["211"] = RPL_STATSLINKINFO;
    m["212"] = RPL_STATSCOMMANDS;
    m["213"] = RPL_STATSCLINE;
    m["214"] = RPL_STATSNLINE;
    m["215"] = RPL_STATSILINE;
    m["216"] = RPL_STATSKLINE;
    m["217"] = RPL_STATSQLINE;
    m["218"] = RPL_STATSYLINE;
    m["219"] = RPL_ENDOFSTATS;
    m["221"] = RPL_UMODEIS;
    m["231"] = RPL_SERVICEINFO;
    m["232"] = RPL_ENDOFSERVICES;
    m["233"] = RPL_SERVICE;
    m["234"] = RPL_SERVLIST;
    m["235"] = RPL_SERVLISTEND;
    m["240"] = RPL_STATSVLINE;
    m["241"] = RPL_STATSLLINE;
    m["242"] = RPL_STATSUPTIME;
    m["243"] = RPL_STATSOLINE;
    m["244"] = RPL_STATSHLINE;
    m["244"] = RPL_STATSSLINE;
    m["246"] = RPL_STATSPING;
    m["247"] = RPL_STATSBLINE;
    m["250"] = RPL_STATSDLINE;
    m["251"] = RPL_LUSERCLIENT;
    m["252"] = RPL_LUSEROP;
    m["253"] = RPL_LUSERUNKNOWN;
    m["254"] = RPL_LUSERCHANNELS;
    m["255"] = RPL_LUSERME;
    m["256"] = RPL_ADMINME;
    m["257"] = RPL_ADMINLOC1;
    m["258"] = RPL_ADMINLOC2;
    m["259"] = RPL_ADMINEMAIL;
    m["261"] = RPL_TRACELOG;
    m["262"] = RPL_TRACEEND;
    m["263"] = RPL_TRYAGAIN;
    m["300"] = RPL_NONE;
    m["301"] = RPL_AWAY;
    m["302"] = RPL_USERHOST;
    m["303"] = RPL_ISON;
    m["305"] = RPL_UNAWAY;
    m["306"] = RPL_NOWAWAY;
    m["311"] = RPL_WHOISUSER;
    m["312"] = RPL_WHOISSERVER;
    m["313"] = RPL_WHOISOPERATOR;
    m["314"] = RPL_WHOWASUSER;
    m["315"] = RPL_ENDOFWHO;
    m["316"] = RPL_WHOISCHANOP;
    m["317"] = RPL_WHOISIDLE;
    m["318"] = RPL_ENDOFWHOIS;
    m["319"] = RPL_WHOISCHANNELS;
    m["321"] = RPL_LISTSTART;
    m["322"] = RPL_LIST;
    m["323"] = RPL_LISTEND;
    m["324"] = RPL_CHANNELMODEIS;
    m["325"] = RPL_UNIQOPIS;
    m["331"] = RPL_NOTOPIC;
    m["332"] = RPL_TOPIC;
    m["341"] = RPL_INVITING;
    m["342"] = RPL_SUMMONING;
    m["346"] = RPL_INVITELIST;
    m["347"] = RPL_ENDOFINVITELIST;
    m["348"] = RPL_EXCEPTLIST;
    m["349"] = RPL_ENDOFEXCEPTLIST;
    m["351"] = RPL_VERSION;
    m["352"] = RPL_WHOREPLY;
    m["353"] = RPL_NAMREPLY;
    m["361"] = RPL_KILLDONE;
    m["362"] = RPL_CLOSING;
    m["363"] = RPL_CLOSEEND;
    m["364"] = RPL_LINKS;
    m["365"] = RPL_ENDOFLINKS;
    m["366"] = RPL_ENDOFNAMES;
    m["367"] = RPL_BANLIST;
    m["368"] = RPL_ENDOFBANLIST;
    m["369"] = RPL_ENDOFWHOWAS;
    m["371"] = RPL_INFO;
    m["372"] = RPL_MOTD;
    m["373"] = RPL_INFOSTART;
    m["374"] = RPL_ENDOFINFO;
    m["375"] = RPL_MOTDSTART;
    m["376"] = RPL_ENDOFMOTD;
    m["381"] = RPL_YOUREOPER;
    m["382"] = RPL_REHASHING;
    m["383"] = RPL_YOURESERVICE;
    m["384"] = RPL_MYPORTIS;
    m["391"] = RPL_TIME;
    m["392"] = RPL_USERSSTART;
    m["393"] = RPL_USERS;
    m["394"] = RPL_ENDOFUSERS;
    m["395"] = RPL_NOUSERS;
    m["401"] = ERR_NOSUCHNICK;
    m["402"] = ERR_NOSUCHSERVER;
    m["403"] = ERR_NOSUCHCHANNEL;
    m["404"] = ERR_CANNOTSENDTOCHAN;
    m["405"] = ERR_TOOMANYCHANNELS;
    m["406"] = ERR_WASNOSUCHNICK;
    m["407"] = ERR_TOOMANYTARGETS;
    m["408"] = ERR_NOSUCHSERVICE;
    m["409"] = ERR_NOORIGIN;
    m["411"] = ERR_NORECIPIENT;
    m["412"] = ERR_NOTEXTTOSEND;
    m["413"] = ERR_NOTOPLEVEL;
    m["414"] = ERR_WILDTOPLEVEL;
    m["415"] = ERR_BADMASK;
    m["421"] = ERR_UNKNOWNCOMMAND;
    m["422"] = ERR_NOMOTD;
    m["423"] = ERR_NOADMININFO;
    m["424"] = ERR_FILEERROR;
    m["431"] = ERR_NONICKNAMEGIVEN;
    m["432"] = ERR_ERRONEUSNICKNAME;
    m["433"] = ERR_NICKNAMEINUSE;
    m["436"] = ERR_NICKCOLLISION;
    m["437"] = ERR_UNAVAILRESOURCE;
    m["441"] = ERR_USERNOTINCHANNEL;
    m["442"] = ERR_NOTONCHANNEL;
    m["443"] = ERR_USERONCHANNEL;
    m["444"] = ERR_NOLOGIN;
    m["445"] = ERR_SUMMONDISABLED;
    m["446"] = ERR_USERSDISABLED;
    m["451"] = ERR_NOTREGISTERED;
    m["461"] = ERR_NEEDMOREPARAMS;
    m["462"] = ERR_ALREADYREGISTRED;
    m["463"] = ERR_NOPERMFORHOST;
    m["464"] = ERR_PASSWDMISMATCH;
    m["465"] = ERR_YOUREBANNEDCREEP;
    m["466"] = ERR_YOUWILLBEBANNED;
    m["467"] = ERR_KEYSET;
    m["471"] = ERR_CHANNELISFULL;
    m["472"] = ERR_UNKNOWNMODE;
    m["473"] = ERR_INVITEONLYCHAN;
    m["474"] = ERR_BANNEDFROMCHAN;
    m["475"] = ERR_BADCHANNELKEY;
    m["476"] = ERR_BADCHANMASK;
    m["477"] = ERR_NOCHANMODES;
    m["478"] = ERR_BANLISTFULL;
    m["481"] = ERR_NOPRIVILEGES;
    m["482"] = ERR_CHANOPRIVSNEEDED;
    m["483"] = ERR_CANTKILLSERVER;
    m["484"] = ERR_RESTRICTED;
    m["485"] = ERR_UNIQOPPRIVSNEEDED;
    m["491"] = ERR_NOOPERHOST;
    m["492"] = ERR_NOSERVICEHOST;
    m["501"] = ERR_UMODEUNKNOWNFLAG;
    m["502"] = ERR_USERSDONTMATCH;
    m["PASS"] = CMD_PASS;
    m["NICK"] = CMD_NICK;
    m["USER"] = CMD_USER;
    m["OPER"] = CMD_OPER;
    m["MODE"] = CMD_MODE;
    m["SERVICE"] = CMD_SERVICE;
    m["QUIT"] = CMD_QUIT;
    m["SQUIT"] = CMD_SQUIT;
    m["JOIN"] = CMD_JOIN;
    m["PART"] = CMD_PART;
    m["TOPIC"] = CMD_TOPIC;
    m["NAMES"] = CMD_NAMES;
    m["LIST"] = CMD_LIST;
    m["INVITE"] = CMD_INVITE;
    m["KICK"] = CMD_KICK;
    m["PRIVMSG"] = CMD_PRIVMSG;
    m["NOTICE"] = CMD_NOTICE;
    m["MOTD"] = CMD_MOTD;
    m["LUSERS"] = CMD_LUSERS;
    m["VERSION"] = CMD_VERSION;
    m["STATS"] = CMD_STATS;
    m["LINKS"] = CMD_LINKS;
    m["TIME"] = CMD_TIME;
    m["CONNECT"] = CMD_CONNECT;
    m["TRACE"] = CMD_TRACE;
    m["ADMIN"] = CMD_ADMIN;
    m["INFO"] = CMD_INFO;
    m["SERVLIST"] = CMD_SERVLIST;
    m["SQUERY"] = CMD_SQUERY;
    m["WHO"] = CMD_WHO;
    m["WHOIS"] = CMD_WHOIS;
    m["WHOWAS"] = CMD_WHOWAS;
    m["KILL"] = CMD_KILL;
    m["PING"] = CMD_PING;
    m["PONG"] = CMD_PONG;
    m["ERROR"] = CMD_ERROR;
    m["AWAY"] = CMD_AWAY;
    m["REHASH"] = CMD_REHASH;
    m["DIE"] = CMD_DIE;
    m["RESTART"] = CMD_RESTART;
    m["SUMMON"] = CMD_SUMMON;
    m["USERS"] = CMD_USERS;
    m["WALLOPS"] = CMD_WALLOPS;
    m["USERHOST"] = CMD_USERHOST;
    m["ISON"] = CMD_ISON;
    m["SHOW"] = EXT_SHOW;
}

IRCCommand stringToIRCCommand(const std::string& str)
{
    static std::map<std::string, IRCCommand> str2cmd;
    if (str2cmd.empty())
        initMapStringToIRCCommand(str2cmd);
    std::string strUpper = str.substr();
    ft_toUpper(strUpper);
    std::map<std::string, IRCCommand>::const_iterator it = str2cmd.find(strUpper);
    if (it == str2cmd.end())
        return UNDEFINED;
    return it->second;
}

static void initMapIRCCommand2String(std::map<IRCCommand, std::string>& m)
{
    m[RPL_WELCOME] = "RPL_WELCOME-001";
    m[RPL_YOURHOST] = "RPL_YOURHOST-002";
    m[RPL_CREATED] = "RPL_CREATED-003";
    m[RPL_MYINFO] = "RPL_MYINFO-004";
    m[RPL_BOUNCE] = "RPL_BOUNCE-005";
    m[RPL_TRACELINK] = "RPL_TRACELINK-200";
    m[RPL_TRACECONNECTING] = "RPL_TRACECONNECTING-201";
    m[RPL_TRACEHANDSHAKE] = "RPL_TRACEHANDSHAKE-202";
    m[RPL_TRACEUNKNOWN] = "RPL_TRACEUNKNOWN-203";
    m[RPL_TRACEOPERATOR] = "RPL_TRACEOPERATOR-204";
    m[RPL_TRACEUSER] = "RPL_TRACEUSER-205";
    m[RPL_TRACESERVER] = "RPL_TRACESERVER-206";
    m[RPL_TRACESERVICE] = "RPL_TRACESERVICE-207";
    m[RPL_TRACENEWTYPE] = "RPL_TRACENEWTYPE-208";
    m[RPL_TRACECLASS] = "RPL_TRACECLASS-209";
    m[RPL_TRACERECONNECT] = "RPL_TRACERECONNECT-210";
    m[RPL_STATSLINKINFO] = "RPL_STATSLINKINFO-211";
    m[RPL_STATSCOMMANDS] = "RPL_STATSCOMMANDS-212";
    m[RPL_STATSCLINE] = "RPL_STATSCLINE-213";
    m[RPL_STATSNLINE] = "RPL_STATSNLINE-214";
    m[RPL_STATSILINE] = "RPL_STATSILINE-215";
    m[RPL_STATSKLINE] = "RPL_STATSKLINE-216";
    m[RPL_STATSQLINE] = "RPL_STATSQLINE-217";
    m[RPL_STATSYLINE] = "RPL_STATSYLINE-218";
    m[RPL_ENDOFSTATS] = "RPL_ENDOFSTATS-219";
    m[RPL_UMODEIS] = "RPL_UMODEIS-221";
    m[RPL_SERVICEINFO] = "RPL_SERVICEINFO-231";
    m[RPL_ENDOFSERVICES] = "RPL_ENDOFSERVICES-232";
    m[RPL_SERVICE] = "RPL_SERVICE-233";
    m[RPL_SERVLIST] = "RPL_SERVLIST-234";
    m[RPL_SERVLISTEND] = "RPL_SERVLISTEND-235";
    m[RPL_STATSVLINE] = "RPL_STATSVLINE-240";
    m[RPL_STATSLLINE] = "RPL_STATSLLINE-241";
    m[RPL_STATSUPTIME] = "RPL_STATSUPTIME-242";
    m[RPL_STATSOLINE] = "RPL_STATSOLINE-243";
    m[RPL_STATSHLINE] = "RPL_STATSHLINE-244";
    m[RPL_STATSSLINE] = "RPL_STATSSLINE-244";
    m[RPL_STATSPING] = "RPL_STATSPING-246";
    m[RPL_STATSBLINE] = "RPL_STATSBLINE-247";
    m[RPL_STATSDLINE] = "RPL_STATSDLINE-250";
    m[RPL_LUSERCLIENT] = "RPL_LUSERCLIENT-251";
    m[RPL_LUSEROP] = "RPL_LUSEROP-252";
    m[RPL_LUSERUNKNOWN] = "RPL_LUSERUNKNOWN-253";
    m[RPL_LUSERCHANNELS] = "RPL_LUSERCHANNELS-254";
    m[RPL_LUSERME] = "RPL_LUSERME-255";
    m[RPL_ADMINME] = "RPL_ADMINME-256";
    m[RPL_ADMINLOC1] = "RPL_ADMINLOC1-257";
    m[RPL_ADMINLOC2] = "RPL_ADMINLOC2-258";
    m[RPL_ADMINEMAIL] = "RPL_ADMINEMAIL-259";
    m[RPL_TRACELOG] = "RPL_TRACELOG-261";
    m[RPL_TRACEEND] = "RPL_TRACEEND-262";
    m[RPL_TRYAGAIN] = "RPL_TRYAGAIN-263";
    m[RPL_NONE] = "RPL_NONE-300";
    m[RPL_AWAY] = "RPL_AWAY-301";
    m[RPL_USERHOST] = "RPL_USERHOST-302";
    m[RPL_ISON] = "RPL_ISON-303";
    m[RPL_UNAWAY] = "RPL_UNAWAY-305";
    m[RPL_NOWAWAY] = "RPL_NOWAWAY-306";
    m[RPL_WHOISUSER] = "RPL_WHOISUSER-311";
    m[RPL_WHOISSERVER] = "RPL_WHOISSERVER-312";
    m[RPL_WHOISOPERATOR] = "RPL_WHOISOPERATOR-313";
    m[RPL_WHOWASUSER] = "RPL_WHOWASUSER-314";
    m[RPL_ENDOFWHO] = "RPL_ENDOFWHO-315";
    m[RPL_WHOISCHANOP] = "RPL_WHOISCHANOP-316";
    m[RPL_WHOISIDLE] = "RPL_WHOISIDLE-317";
    m[RPL_ENDOFWHOIS] = "RPL_ENDOFWHOIS-318";
    m[RPL_WHOISCHANNELS] = "RPL_WHOISCHANNELS-319";
    m[RPL_LISTSTART] = "RPL_LISTSTART-321";
    m[RPL_LIST] = "RPL_LIST-322";
    m[RPL_LISTEND] = "RPL_LISTEND-323";
    m[RPL_CHANNELMODEIS] = "RPL_CHANNELMODEIS-324";
    m[RPL_UNIQOPIS] = "RPL_UNIQOPIS-325";
    m[RPL_NOTOPIC] = "RPL_NOTOPIC-331";
    m[RPL_TOPIC] = "RPL_TOPIC-332";
    m[RPL_INVITING] = "RPL_INVITING-341";
    m[RPL_SUMMONING] = "RPL_SUMMONING-342";
    m[RPL_INVITELIST] = "RPL_INVITELIST-346";
    m[RPL_ENDOFINVITELIST] = "RPL_ENDOFINVITELIST-347";
    m[RPL_EXCEPTLIST] = "RPL_EXCEPTLIST-348";
    m[RPL_ENDOFEXCEPTLIST] = "RPL_ENDOFEXCEPTLIST-349";
    m[RPL_VERSION] = "RPL_VERSION-351";
    m[RPL_WHOREPLY] = "RPL_WHOREPLY-352";
    m[RPL_NAMREPLY] = "RPL_NAMREPLY-353";
    m[RPL_KILLDONE] = "RPL_KILLDONE-361";
    m[RPL_CLOSING] = "RPL_CLOSING-362";
    m[RPL_CLOSEEND] = "RPL_CLOSEEND-363";
    m[RPL_LINKS] = "RPL_LINKS-364";
    m[RPL_ENDOFLINKS] = "RPL_ENDOFLINKS-365";
    m[RPL_ENDOFNAMES] = "RPL_ENDOFNAMES-366";
    m[RPL_BANLIST] = "RPL_BANLIST-367";
    m[RPL_ENDOFBANLIST] = "RPL_ENDOFBANLIST-368";
    m[RPL_ENDOFWHOWAS] = "RPL_ENDOFWHOWAS-369";
    m[RPL_INFO] = "RPL_INFO-371";
    m[RPL_MOTD] = "RPL_MOTD-372";
    m[RPL_INFOSTART] = "RPL_INFOSTART-373";
    m[RPL_ENDOFINFO] = "RPL_ENDOFINFO-374";
    m[RPL_MOTDSTART] = "RPL_MOTDSTART-375";
    m[RPL_ENDOFMOTD] = "RPL_ENDOFMOTD-376";
    m[RPL_YOUREOPER] = "RPL_YOUREOPER-381";
    m[RPL_REHASHING] = "RPL_REHASHING-382";
    m[RPL_YOURESERVICE] = "RPL_YOURESERVICE-383";
    m[RPL_MYPORTIS] = "RPL_MYPORTIS-384";
    m[RPL_TIME] = "RPL_TIME-391";
    m[RPL_USERSSTART] = "RPL_USERSSTART-392";
    m[RPL_USERS] = "RPL_USERS-393";
    m[RPL_ENDOFUSERS] = "RPL_ENDOFUSERS-394";
    m[RPL_NOUSERS] = "RPL_NOUSERS-395";
    m[ERR_NOSUCHNICK] = "ERR_NOSUCHNICK-401";
    m[ERR_NOSUCHSERVER] = "ERR_NOSUCHSERVER-402";
    m[ERR_NOSUCHCHANNEL] = "ERR_NOSUCHCHANNEL-403";
    m[ERR_CANNOTSENDTOCHAN] = "ERR_CANNOTSENDTOCHAN-404";
    m[ERR_TOOMANYCHANNELS] = "ERR_TOOMANYCHANNELS-405";
    m[ERR_WASNOSUCHNICK] = "ERR_WASNOSUCHNICK-406";
    m[ERR_TOOMANYTARGETS] = "ERR_TOOMANYTARGETS-407";
    m[ERR_NOSUCHSERVICE] = "ERR_NOSUCHSERVICE-408";
    m[ERR_NOORIGIN] = "ERR_NOORIGIN-409";
    m[ERR_NORECIPIENT] = "ERR_NORECIPIENT-411";
    m[ERR_NOTEXTTOSEND] = "ERR_NOTEXTTOSEND-412";
    m[ERR_NOTOPLEVEL] = "ERR_NOTOPLEVEL-413";
    m[ERR_WILDTOPLEVEL] = "ERR_WILDTOPLEVEL-414";
    m[ERR_BADMASK] = "ERR_BADMASK-415";
    m[ERR_UNKNOWNCOMMAND] = "ERR_UNKNOWNCOMMAND-421";
    m[ERR_NOMOTD] = "ERR_NOMOTD-422";
    m[ERR_NOADMININFO] = "ERR_NOADMININFO-423";
    m[ERR_FILEERROR] = "ERR_FILEERROR-424";
    m[ERR_NONICKNAMEGIVEN] = "ERR_NONICKNAMEGIVEN-431";
    m[ERR_ERRONEUSNICKNAME] = "ERR_ERRONEUSNICKNAME-432";
    m[ERR_NICKNAMEINUSE] = "ERR_NICKNAMEINUSE-433";
    m[ERR_NICKCOLLISION] = "ERR_NICKCOLLISION-436";
    m[ERR_UNAVAILRESOURCE] = "ERR_UNAVAILRESOURCE-437";
    m[ERR_USERNOTINCHANNEL] = "ERR_USERNOTINCHANNEL-441";
    m[ERR_NOTONCHANNEL] = "ERR_NOTONCHANNEL-442";
    m[ERR_USERONCHANNEL] = "ERR_USERONCHANNEL-443";
    m[ERR_NOLOGIN] = "ERR_NOLOGIN-444";
    m[ERR_SUMMONDISABLED] = "ERR_SUMMONDISABLED-445";
    m[ERR_USERSDISABLED] = "ERR_USERSDISABLED-446";
    m[ERR_NOTREGISTERED] = "ERR_NOTREGISTERED-451";
    m[ERR_NEEDMOREPARAMS] = "ERR_NEEDMOREPARAMS-461";
    m[ERR_ALREADYREGISTRED] = "ERR_ALREADYREGISTRED-462";
    m[ERR_NOPERMFORHOST] = "ERR_NOPERMFORHOST-463";
    m[ERR_PASSWDMISMATCH] = "ERR_PASSWDMISMATCH-464";
    m[ERR_YOUREBANNEDCREEP] = "ERR_YOUREBANNEDCREEP-465";
    m[ERR_YOUWILLBEBANNED] = "ERR_YOUWILLBEBANNED-466";
    m[ERR_KEYSET] = "ERR_KEYSET-467";
    m[ERR_CHANNELISFULL] = "ERR_CHANNELISFULL-471";
    m[ERR_UNKNOWNMODE] = "ERR_UNKNOWNMODE-472";
    m[ERR_INVITEONLYCHAN] = "ERR_INVITEONLYCHAN-473";
    m[ERR_BANNEDFROMCHAN] = "ERR_BANNEDFROMCHAN-474";
    m[ERR_BADCHANNELKEY] = "ERR_BADCHANNELKEY-475";
    m[ERR_BADCHANMASK] = "ERR_BADCHANMASK-476";
    m[ERR_NOCHANMODES] = "ERR_NOCHANMODES-477";
    m[ERR_BANLISTFULL] = "ERR_BANLISTFULL-478";
    m[ERR_NOPRIVILEGES] = "ERR_NOPRIVILEGES-481";
    m[ERR_CHANOPRIVSNEEDED] = "ERR_CHANOPRIVSNEEDED-482";
    m[ERR_CANTKILLSERVER] = "ERR_CANTKILLSERVER-483";
    m[ERR_RESTRICTED] = "ERR_RESTRICTED-484";
    m[ERR_UNIQOPPRIVSNEEDED] = "ERR_UNIQOPPRIVSNEEDED-485";
    m[ERR_NOOPERHOST] = "ERR_NOOPERHOST-491";
    m[ERR_NOSERVICEHOST] = "ERR_NOSERVICEHOST-492";
    m[ERR_UMODEUNKNOWNFLAG] = "ERR_UMODEUNKNOWNFLAG-501";
    m[ERR_USERSDONTMATCH] = "ERR_USERSDONTMATCH-502";
    m[CMD_PASS] = "PASS";
    m[CMD_NICK] = "NICK";
    m[CMD_USER] = "USER";
    m[CMD_OPER] = "OPER";
    m[CMD_MODE] = "MODE";
    m[CMD_SERVICE] = "SERVICE";
    m[CMD_QUIT] = "QUIT";
    m[CMD_SQUIT] = "SQUIT";
    m[CMD_JOIN] = "JOIN";
    m[CMD_PART] = "PART";
    m[CMD_TOPIC] = "TOPIC";
    m[CMD_NAMES] = "NAMES";
    m[CMD_LIST] = "LIST";
    m[CMD_INVITE] = "INVITE";
    m[CMD_KICK] = "KICK";
    m[CMD_PRIVMSG] = "PRIVMSG";
    m[CMD_NOTICE] = "NOTICE";
    m[CMD_MOTD] = "MOTD";
    m[CMD_LUSERS] = "LUSERS";
    m[CMD_VERSION] = "VERSION";
    m[CMD_STATS] = "STATS";
    m[CMD_LINKS] = "LINKS";
    m[CMD_TIME] = "TIME";
    m[CMD_CONNECT] = "CONNECT";
    m[CMD_TRACE] = "TRACE";
    m[CMD_ADMIN] = "ADMIN";
    m[CMD_INFO] = "INFO";
    m[CMD_SERVLIST] = "SERVLIST";
    m[CMD_SQUERY] = "SQUERY";
    m[CMD_WHO] = "WHO";
    m[CMD_WHOIS] = "WHOIS";
    m[CMD_WHOWAS] = "WHOWAS";
    m[CMD_KILL] = "KILL";
    m[CMD_PING] = "PING";
    m[CMD_PONG] = "PONG";
    m[CMD_ERROR] = "ERROR";
    m[CMD_AWAY] = "AWAY";
    m[CMD_REHASH] = "REHASH";
    m[CMD_DIE] = "DIE";
    m[CMD_RESTART] = "RESTART";
    m[CMD_SUMMON] = "SUMMON";
    m[CMD_USERS] = "USERS";
    m[CMD_WALLOPS] = "WALLOPS";
    m[CMD_USERHOST] = "USERHOST";
    m[CMD_ISON] = "ISON";
    m[EXT_SHOW] = "SHOW";
}

const std::string& IRCCommandtoString(IRCCommand cmd)
{
    static std::map<IRCCommand, std::string> cmd2String;
    static const std::string undefString = "UNDEFINED_CMD";
    if (cmd2String.empty())
        initMapIRCCommand2String(cmd2String);
    std::map<IRCCommand, std::string>::const_iterator it = cmd2String.find(cmd);
    if (it == cmd2String.end())
        return undefString;
    return it->second;
}
